{% extends '::admin.html.twig' %}

{% block page_title %}Edit | Users | {% endblock %}
{% block header_page_title %}Edit User{% endblock %}

{% block content %}
    {% include 'flashMessages.html.twig' %}

    {% embed 'AdminUser/userForm.html.twig' %}

        {% block extra_actions %}
            <ul class="form-extra_actions">
                {% if user.isEnabled == false %}
                    <li>
                        {{ form_start(activate_form) }}
                            <button class="button-as_link form-action_link">Activate Account</button>
                        {{ form_end(activate_form) }}
                    </li>
                {% endif %}
                <li>
                    {{ form_start(reset_password_form) }}
                        <button class="button-as_link form-action_link">Reset Password</button>
                    {{ form_end(reset_password_form) }}
                </li>
                <li>
                    {{ form_start(lock_unlock_form) }}
                        {# this button is generated by the form because the display value will change #}
                        {{
                            form_widget(lock_unlock_form.button, {
                                'attr' : {
                                    'class' : 'button-as_link form-action_link'
                                }
                            })
                        }}
                    {{ form_end(lock_unlock_form) }}
                </li>
                <li>
                    {{
                        form_start(delete_form, {
                            'attr' : {
                                'class' : 'js-form-delete',
                                'data-record-desc' : 'User'
                            }
                        })
                    }}
                        <button class="button-as_link form-action_link">Delete</button>
                    {{ form_end(delete_form) }}
                </li>
            </ul>
        {% endblock extra_actions %}

    {% endembed %}
{% endblock content %}